<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Index</title>
    <link href="Styles/main.css" rel="stylesheet" />
    <style>
        .media{
            margin-left: 20px;
            margin-right: 20px;
            margin-top: 10px;
        }
        .mainImage{
            width:350px;
            border:2px solid black;
        }
        figcaption{
            text-align: center;
            width:350px;
        }
    </style>

    <script>
        var t = window.setInterval(changeImg, 1500);
        window.onload = function(){
            changeImg();
            document.getElementById("rewind").onclick = rewind;
            document.getElementById("pause").onclick = pause;
            document.getElementById("forward").onclick = forward;
            document.getElementById("mainImage").onclick = linker;
        }

        function changeImg() {
            var src1 = document.getElementById("mainImage").src.split("@");
            var src2 = src1[1].split(".");
            var src3 = parseInt(src2[0])+1;
            if(src3 == 6 )
                document.getElementById("mainImage").src = "images/images@1.png";
            else
                document.getElementById("mainImage").src = "images/images@"+src3+".png";
        }

        function rewind(){
            var src11=document.getElementById("mainImage").src.split("@");
            var src21=src11[1].split(".");
            var src31 = parseInt(src21[0])-1;
            if(src31 == 0 )
                document.getElementById("mainImage").src = "images/images@5.png";
            else
                document.getElementById("mainImage").src = "images/images@"+src31+".png";
                window.clearInterval(t);
                document.getElementById("pause").src="images/play.jpg";
        }

        function forward(){
            var src111=document.getElementById("mainImage").src.split("@");
            var src211=src111[1].split(".");
            var src311 = parseInt(src211[0])+1;
            if(src311 == 6 )
                document.getElementById("mainImage").src = "images/images@1.png";
            else
                document.getElementById("mainImage").src = "images/images@"+src311+".png";
                window.clearInterval(t);
                document.getElementById("pause").src="images/play.jpg";
        }

        function pause(){
            var pauseSrc=document.getElementById("pause").src;
            var pauseSrc2=pauseSrc.split("images/");
            var pauseSrc3=pauseSrc2[1].substring(0,2);
            if (pauseSrc3 == "pa"){
                alert(pauseSrc3);
                window.clearInterval(t);
                document.getElementById("pause").src = "images/play.jpg";}
            else
                document.getElementById("pause").src = "images/pause.jpg";
                window.setInterval(changeImg, 1500);
        }

        function linker(){
            var src1 = document.getElementById("mainImage").src.split("@");
            var src2 = src1[1].split(".");
            var src3 = parseInt(src2[0]);
            if(src3 == 1)
                window.open("https://www.google.com", "_blank", "top=50,left=100,width=500,height=100");
            else if(src3==2)
                window.open("https://www.yahoo.com", "_blank", "top=50,left=100,width=500,height=100");
            else if(src3==3)
                window.open("https://www.amazon.com", "_blank", "top=50,left=100,width=500,height=100");
            else if(src3==3)
                window.open("https://www.facebook.com", "_blank", "top=50,left=100,width=500,height=100");
            else
                window.open("https://www.youtube.com", "_blank", "top=50,left=100,width=500,height=100");
        }



    </script>
</head>
<body>
<div id="container">
    <header>
        <nav>
            <ul class="menu">
                <li><a href="index.html">首頁</a></li>
                <li><a href="Lab01.html">作業一</a></li>
                <li><a href="Lab02.html">作業二</a></li>
                <li><a href="Lab03.html">作業三</a></li>
                <li><a href="Lab04.html">作業四</a></li>
                <li><a href="Lab05.html">作業五</a></li>
            </ul>
        </nav>

    </header>
    <article>
        <div>
            <figure>
                <img class = "mainImage" id = "mainImage" src="images/images@1.png" />
                <figcaption>
                    <img id = "rewind" class = "media" src="images/rewind.jpg" width="20" >
                    <img id = "pause" class = "media" src="images/pause.jpg" width="20">
                    <img id = "forward" class = "media" src="images/fastforward.jpg" width="20">
                </figcaption>
            </figure>

        </div>
    </article>
</div>
</body>
</html>